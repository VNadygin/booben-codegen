{"version":3,"sources":["../lib/generateCSSFile.js"],"names":["generate","require","default","t","template","formatStyleClassName","generateCSSFile","css","model","files","forEach","file","item","componentId","className","name","push","cssString","join","injectGlobalBody","fileTemplate","sourceType","plugins","program","code","module","exports"],"mappings":";;AAAA,IAAMA,WAAWC,QAAQ,iBAAR,EAA2BC,OAA5C;AACA,IAAMC,IAAIF,QAAQ,aAAR,CAAV;AACA,IAAMG,WAAWH,QAAQ,gBAAR,CAAjB;;eAEiCA,QAAQ,SAAR,C;IAAzBI,oB,YAAAA,oB;;AAER,IAAMC,kBAAkB,SAAlBA,eAAkB,QAAS;AAC/B,MAAMC,MAAM,EAAZ;AACAC,QAAMC,KAAN,CAAYC,OAAZ,CAAoB,gBAAQ;AAC1BC,SAAKJ,GAAL,CAASG,OAAT,CAAiB,UAACE,IAAD,EAAOC,WAAP,EAAuB;AACtC,UAAMC,YAAYT,qBAAqBM,KAAKI,IAA1B,EAAgCF,WAAhC,CAAlB;AACAN,UAAIS,IAAJ,OAAaF,SAAb,SAA0BF,IAA1B;AACD,KAHD;AAID,GALD;AAMA,MAAMK,YAAYV,IAAIW,IAAJ,CAAS,IAAT,CAAlB;;AAEA,MAAMC,mBAAmB,iBAAiB,GAAjB,GAAuBF,SAAvB,GAAmC,GAA5D;;AAEA,MAAMG,eAAehB,6EAGjBe,gBAHiB,WAKnB;AACEE,gBAAY,QADd;AAEEC,aAAS,CAAC,KAAD;AAFX,GALmB,GAArB;;AAWA,SAAOtB,SAASG,EAAEQ,IAAF,CAAOR,EAAEoB,OAAF,CAAUH,YAAV,CAAP,CAAT,EAA0CI,IAAjD;AACD,CAxBD;;AA0BAC,OAAOC,OAAP,GAAiBpB,eAAjB","file":"generateCSSFile.js","sourcesContent":["const generate = require('babel-generator').default;\nconst t = require('babel-types');\nconst template = require('babel-template');\n\nconst { formatStyleClassName } = require('./names');\n\nconst generateCSSFile = model => {\n  const css = [];\n  model.files.forEach(file => {\n    file.css.forEach((item, componentId) => {\n      const className = formatStyleClassName(file.name, componentId);\n      css.push(`.${className}{${item}}`);\n    });\n  });\n  const cssString = css.join('\\n');\n\n  const injectGlobalBody = 'injectGlobal' + '`' + cssString + '`';\n\n  const fileTemplate = template(\n    `\n    import { injectGlobal } from 'styled-components';\n    ${injectGlobalBody}\n  `,\n    {\n      sourceType: 'module',\n      plugins: ['jsx'],\n    }\n  )();\n\n  return generate(t.file(t.program(fileTemplate))).code;\n};\n\nmodule.exports = generateCSSFile;\n"]}